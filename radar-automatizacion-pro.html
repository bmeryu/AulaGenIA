<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Radar de AutomatizaciÃ³n Pro - Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }

        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .card-hover {
            transition: all 0.3s ease;
        }

        .card-hover:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
    </style>
</head>

<body class="bg-gray-50">
    <!-- Header -->
    <header class="gradient-bg text-white shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
            <div class="flex items-center justify-between">
                <div>
                    <h1 class="text-3xl font-bold">âš¡ Radar de AutomatizaciÃ³n Pro</h1>
                    <p class="text-purple-100 mt-1">Recupera tu tiempo con inteligencia artificial</p>
                </div>
                <div class="hidden md:block">
                    <div class="bg-white/20 backdrop-blur-sm rounded-lg px-4 py-2">
                        <p class="text-sm font-medium">Powered by Aula GenIA</p>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">

        <!-- Fase 1: Escaneo de Tareas -->
        <div id="scanning-phase" class="mb-8">
            <div class="bg-white rounded-xl shadow-md p-6 md:p-8">
                <div class="flex items-center mb-6">
                    <div class="bg-purple-100 rounded-full p-3 mr-4">
                        <svg class="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                        </svg>
                    </div>
                    <div>
                        <h2 class="text-2xl font-bold text-gray-900">Fase 1: Escaneo de Tareas</h2>
                        <p class="text-gray-600">Ingresa 5 tareas diarias y el tiempo que te consumen</p>
                    </div>
                </div>

                <form id="task-form" class="space-y-4">
                    <div id="tasks-container" class="space-y-4">
                        <!-- Tasks will be generated here -->
                    </div>

                    <button type="submit"
                        class="w-full bg-purple-600 hover:bg-purple-700 text-white font-semibold py-4 rounded-lg transition-colors shadow-lg hover:shadow-xl">
                        ðŸš€ Analizar Tareas
                    </button>
                </form>
            </div>
        </div>

        <!-- Fase 2: Resultados (Hidden initially) -->
        <div id="results-phase" class="hidden space-y-8">

            <!-- Calculadora de Libertad -->
            <div class="bg-gradient-to-r from-green-400 to-blue-500 rounded-xl shadow-xl p-8 text-white">
                <div class="text-center">
                    <h3 class="text-2xl font-bold mb-2">ðŸ’Ž Calculadora de Libertad</h3>
                    <p class="text-green-100 mb-6">Tiempo que puedes recuperar este aÃ±o</p>
                    <div class="bg-white/20 backdrop-blur-sm rounded-xl p-6 inline-block">
                        <div class="text-6xl font-black mb-2" id="freedom-hours">0</div>
                        <div class="text-xl font-semibold">horas al aÃ±o</div>
                        <div class="text-green-100 mt-3 text-lg" id="freedom-days">â‰ˆ 0 dÃ­as completos</div>
                    </div>
                </div>
            </div>

            <!-- Cuadrante de PriorizaciÃ³n -->
            <div class="bg-white rounded-xl shadow-md p-6 md:p-8">
                <h2 class="text-2xl font-bold text-gray-900 mb-6 flex items-center">
                    <span class="bg-blue-100 rounded-full p-2 mr-3">
                        <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                        </svg>
                    </span>
                    AnÃ¡lisis de PriorizaciÃ³n
                </h2>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- AutomatizaciÃ³n Inmediata -->
                    <div class="bg-red-50 border-2 border-red-200 rounded-xl p-6 card-hover">
                        <div class="flex items-center mb-4">
                            <span class="text-3xl mr-3">ðŸ”´</span>
                            <h3 class="text-xl font-bold text-red-900">AutomatizaciÃ³n Inmediata</h3>
                        </div>
                        <p class="text-red-700 text-sm mb-4">Tareas repetitivas de alto impacto</p>
                        <div id="quad-immediate" class="space-y-2"></div>
                    </div>

                    <!-- DelegaciÃ³n IA -->
                    <div class="bg-orange-50 border-2 border-orange-200 rounded-xl p-6 card-hover">
                        <div class="flex items-center mb-4">
                            <span class="text-3xl mr-3">ðŸŸ </span>
                            <h3 class="text-xl font-bold text-orange-900">DelegaciÃ³n IA</h3>
                        </div>
                        <p class="text-orange-700 text-sm mb-4">Tareas cognitivas asistibles</p>
                        <div id="quad-delegate" class="space-y-2"></div>
                    </div>

                    <!-- OptimizaciÃ³n Manual -->
                    <div class="bg-yellow-50 border-2 border-yellow-200 rounded-xl p-6 card-hover">
                        <div class="flex items-center mb-4">
                            <span class="text-3xl mr-3">ðŸŸ¡</span>
                            <h3 class="text-xl font-bold text-yellow-900">OptimizaciÃ³n Manual</h3>
                        </div>
                        <p class="text-yellow-700 text-sm mb-4">Mejorar sin automatizar</p>
                        <div id="quad-optimize" class="space-y-2"></div>
                    </div>

                    <!-- Eliminar -->
                    <div class="bg-gray-50 border-2 border-gray-200 rounded-xl p-6 card-hover">
                        <div class="flex items-center mb-4">
                            <span class="text-3xl mr-3">âšª</span>
                            <h3 class="text-xl font-bold text-gray-900">Eliminar</h3>
                        </div>
                        <p class="text-gray-700 text-sm mb-4">Bajo valor, considerar quitar</p>
                        <div id="quad-eliminate" class="space-y-2"></div>
                    </div>
                </div>
            </div>

            <!-- Generador de Soluciones -->
            <div id="solutions-section" class="bg-white rounded-xl shadow-md p-6 md:p-8">
                <h2 class="text-2xl font-bold text-gray-900 mb-6 flex items-center">
                    <span class="bg-green-100 rounded-full p-2 mr-3">
                        <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M13 10V3L4 14h7v7l9-11h-7z" />
                        </svg>
                    </span>
                    Soluciones de AutomatizaciÃ³n
                </h2>
                <div id="solutions-container" class="space-y-6"></div>
            </div>

            <!-- Optimizaciones Manuales -->
            <div id="manual-optimization-section" class="hidden bg-white rounded-xl shadow-md p-6 md:p-8">
                <h2 class="text-2xl font-bold text-gray-900 mb-6 flex items-center">
                    <span class="bg-yellow-100 rounded-full p-2 mr-3">
                        <svg class="w-6 h-6 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
                        </svg>
                    </span>
                    Optimizaciones Manuales
                </h2>
                <p class="text-gray-600 mb-6">Tareas que no requieren automatizaciÃ³n, pero se pueden mejorar
                    significativamente</p>
                <div id="manual-optimization-container" class="space-y-6"></div>
            </div>

            <!-- BotÃ³n para Reiniciar -->
            <div class="text-center">
                <button onclick="resetApp()"
                    class="bg-gray-600 hover:bg-gray-700 text-white font-semibold py-3 px-8 rounded-lg transition-colors">
                    ðŸ”„ Analizar Nuevas Tareas
                </button>
            </div>
        </div>
    </div>

    <script>
        // Inicializar formulario con 5 campos de tarea
        const tasksContainer = document.getElementById('tasks-container');
        for (let i = 1; i <= 5; i++) {
            const taskDiv = document.createElement('div');
            taskDiv.className = 'bg-gray-50 rounded-lg p-4 border border-gray-200';
            taskDiv.innerHTML = `
                <div class="flex items-center mb-3">
                    <span class="bg-purple-600 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold mr-3">${i}</span>
                    <label class="text-sm font-semibold text-gray-700">Tarea ${i}</label>
                </div>
                <input type="text" name="task-${i}-name" required placeholder="Ej: Responder correos diarios" class="w-full mb-3 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                <div class="flex items-center">
                    <label class="text-sm text-gray-600 mr-3">Tiempo diario:</label>
                    <input type="number" name="task-${i}-minutes" required min="1" placeholder="30" class="w-24 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                    <span class="ml-2 text-sm text-gray-600">minutos</span>
                </div>
            `;
            tasksContainer.appendChild(taskDiv);
        }

        // Algoritmo de priorizaciÃ³n
        function categorizeTasks(tasks) {
            return tasks.map(task => {
                const { name, minutes } = task;
                const weeklyMinutes = minutes * 5; // 5 dÃ­as laborales

                // Palabras clave para detecciÃ³n
                const automationKeywords = ['correo', 'email', 'reporte', 'informe', 'datos', 'excel', 'factura', 'copia', 'backup', 'actualizar', 'revisar'];
                const delegationKeywords = ['escribir', 'redactar', 'crear', 'diseÃ±ar', 'analizar', 'investigar', 'contenido', 'traducir'];
                const eliminateKeywords = ['reuniÃ³n innecesaria', 'revisar redes', 'chequear', 'leer todo'];

                const nameLower = name.toLowerCase();
                const hasAutomationKeyword = automationKeywords.some(kw => nameLower.includes(kw));
                const hasDelegationKeyword = delegationKeywords.some(kw => nameLower.includes(kw));
                const hasEliminateKeyword = eliminateKeywords.some(kw => nameLower.includes(kw));

                // LÃ³gica de clasificaciÃ³n
                let category;
                if (weeklyMinutes >= 150 && hasAutomationKeyword) {
                    category = 'immediate'; // MÃ¡s de 30 min/dÃ­a y automatizable
                } else if (hasDelegationKeyword || (weeklyMinutes >= 100 && weeklyMinutes < 150)) {
                    category = 'delegate';
                } else if (hasEliminateKeyword || weeklyMinutes < 50) {
                    category = 'eliminate'; // Menos de 10 min/dÃ­a
                } else {
                    category = 'optimize';
                }

                return { ...task, category, weeklyMinutes };
            });
        }

        // Recomendaciones de herramientas (Beginner-friendly)
        function getToolRecommendation(taskName) {
            const nameLower = taskName.toLowerCase();

            if (nameLower.includes('correo') || nameLower.includes('email')) {
                return {
                    tool: 'ChatGPT (Crear un GPT personalizado) o Gemini (Crear un Gem)',
                    prompt: `Eres mi asistente personal de correos electrÃ³nicos con 10 aÃ±os de experiencia en comunicaciÃ³n corporativa. Cada dÃ­a recibo entre 30 y 50 correos que necesito procesar rÃ¡pidamente.

Cuando te comparta un correo, debes:
1. Clasificarlo en una de estas categorÃ­as: "Urgente y Requiere AcciÃ³n", "InformaciÃ³n para Archivar", "Respuesta Breve Posible", o "Spam/Irrelevante"
2. Si es "Respuesta Breve Posible", generar un borrador de respuesta profesional, amable y concisa que pueda enviar directamente

IMPORTANTE: No uses lenguaje demasiado formal ni rebuscado. MantÃ©n un tono profesional pero cercano. No excedas las 3 lÃ­neas en tus respuestas sugeridas.

Entrega tu anÃ¡lisis en este formato:
ðŸ“Œ CategorÃ­a: [categorÃ­a]
ðŸ’¬ Respuesta sugerida: [si aplica]`,
                    icon: 'ðŸ“§'
                };
            } else if (nameLower.includes('reporte') || nameLower.includes('informe')) {
                return {
                    tool: 'ChatGPT (Crear un GPT personalizado) o Gemini (Crear un Gem)',
                    prompt: `ActÃºas como analista de datos senior especializado en reportes ejecutivos. Mi objetivo es transformar datos en bruto en informes claros y accionables que pueda presentar a mi equipo cada semana.

Cuando te comparta datos (pueden ser nÃºmeros, estadÃ­sticas, o informaciÃ³n desordenada):
1. Identifica los 3-5 hallazgos mÃ¡s importantes
2. Resalta tendencias o patrones relevantes
3. Sugiere 2-3 acciones concretas basadas en los datos

RESTRICCIONES: No uses jerga tÃ©cnica excesiva. Evita generar grÃ¡ficos o tablas complejas (solo texto). Asume que tu audiencia tiene conocimientos bÃ¡sicos, no avanzados.

Estructura tu reporte asÃ­:
ðŸ“Š Hallazgos Clave:
â€¢ [punto 1]
â€¢ [punto 2]
â€¢ [punto 3]

ðŸ’¡ Recomendaciones:
1. [acciÃ³n concreta]
2. [acciÃ³n concreta]`,
                    icon: 'ðŸ“Š'
                };
            } else if (nameLower.includes('contenido') || nameLower.includes('escribir') || nameLower.includes('redactar')) {
                return {
                    tool: 'ChatGPT (Crear un GPT personalizado) o Gemini (Crear un Gem)',
                    prompt: `Eres mi copywriter y estratega de contenido con enfoque en engagement. Trabajo en [TU INDUSTRIA/NICHO] y creo contenido para [REDES SOCIALES/BLOG/EMAIL].

Cuando te pida crear contenido, necesito que:
1. Me generes 3 versiones diferentes del mismo mensaje
2. Cada versiÃ³n debe tener un tono distinto: (A) Profesional, (B) Cercano/Amigable, (C) Provocador/Llamativo
3. Incluyas un hook potente en las primeras 2 lÃ­neas

NO HAGAS: No uses emojis excesivos (mÃ¡ximo 2 por texto). No escribas mÃ¡s de 150 palabras por versiÃ³n. No uses clichÃ©s como "en el mundo actual" o "revolucionario".

Formato de entrega:
âœï¸ VersiÃ³n A (Profesional):
[texto]

âœï¸ VersiÃ³n B (Cercano):
[texto]

âœï¸ VersiÃ³n C (Provocador):
[texto]`,
                    icon: 'âœï¸'
                };
            } else if (nameLower.includes('datos') || nameLower.includes('excel') || nameLower.includes('tabla')) {
                return {
                    tool: 'ChatGPT o Gemini + Google Sheets',
                    prompt: `Eres mi asistente de organizaciÃ³n de datos con experiencia en Google Sheets. Diariamente manejo informaciÃ³n desordenada que necesito estructurar para tomar decisiones rÃ¡pidas.

Cuando te comparta datos sin estructura:
1. Identifica quÃ© columnas deberÃ­a tener mi tabla (mÃ¡ximo 6 columnas)
2. Organiza la informaciÃ³n de forma clara
3. Detecta si hay datos duplicados o inconsistentes
4. Dame un mini resumen de lo mÃ¡s relevante

IMPORTANTE: Tu salida debe ser una tabla simple en formato texto que pueda copiar y pegar directo a Google Sheets. No uses fÃ³rmulas complejas.

Formato:
COLUMNAS SUGERIDAS:
[Columna 1] | [Columna 2] | [Columna 3]...

DATOS ORGANIZADOS:
[fila 1]
[fila 2]...

âš ï¸ ALERTAS: [duplicados o inconsistencias si existen]`,
                    icon: 'ðŸ“ˆ'
                };
            } else if (nameLower.includes('diseÃ±') || nameLower.includes('imagen') || nameLower.includes('visual')) {
                return {
                    tool: 'ChatGPT (DALL-E integrado) o Gemini (Imagen AI)',
                    prompt: `Eres mi director creativo visual. Mi objetivo es generar imÃ¡genes profesionales para [REDES SOCIALES / PRESENTACIONES / MARKETING] sin necesidad de diseÃ±adores.

Cuando te pida una imagen:
1. Primero hazme 3 preguntas clave: Â¿QuÃ© emociÃ³n quieres transmitir? Â¿QuiÃ©n es tu audiencia? Â¿DÃ³nde se usarÃ¡?
2. Con mis respuestas, genera una descripciÃ³n ultra-detallada para crear la imagen
3. Incluye: estilo visual, paleta de colores, composiciÃ³n y elementos especÃ­ficos

RESTRICCIONES: No sugieras ilustraciones muy abstractas o artÃ­sticas si el uso es corporativo. Evita clichÃ©s visuales (ej: apretones de manos, gente seÃ±alando pantallas).

Tu descripciÃ³n debe ser un pÃ¡rrafo de 4-5 lÃ­neas, escrito para que la IA de imÃ¡genes lo entienda perfectamente y genere algo profesional al primer intento.`,
                    icon: 'ðŸŽ¨'
                };
            } else if (nameLower.includes('reuniÃ³n') || nameLower.includes('junta') || nameLower.includes('meeting')) {
                return {
                    tool: 'ChatGPT (Crear un GPT personalizado) o Gemini (Crear un Gem)',
                    prompt: `Eres mi asistente ejecutivo especializado en optimizaciÃ³n de reuniones. Mi desafÃ­o es que paso demasiado tiempo en juntas poco productivas.

Cuando te comparta el contexto de una reuniÃ³n prÃ³xima:
1. EvalÃºa si realmente es necesaria (sÃ­/no y por quÃ©)
2. Si es necesaria, genera una agenda de mÃ¡ximo 4 puntos clave
3. Sugiere un lÃ­mite de tiempo realista
4. Dame un template de email para compartir con los asistentes

NO INCLUYAS: Presentaciones largas, rondas de "updates" individuales, o temas que se pueden resolver por email.

Formato:
âœ… Â¿Es necesaria?: [SÃ­/No + justificaciÃ³n]

ðŸ“‹ Agenda (si aplica):
1. [Punto - X minutos]
2. [Punto - X minutos]
...

ðŸ“§ Email para enviar:
[template listo para copiar]`,
                    icon: 'ðŸ“…'
                };
            } else {
                return {
                    tool: 'ChatGPT (Crear un GPT personalizado) o Gemini (Crear un Gem)',
                    prompt: `Eres mi consultor de automatizaciÃ³n personal. Tu rol es ayudarme a delegar tareas repetitivas a la IA. Mi situaciÃ³n: paso demasiado tiempo en "${taskName}" y necesito recuperar ese tiempo.

Cuando analices esta tarea:
1. Identifica quÃ© partes son 100% mecÃ¡nicas y delegables
2. QuÃ© partes requieren mi criterio humano (y no debo delegar)
3. Dame un paso a paso de cÃ³mo podrÃ­a usar IA para la parte mecÃ¡nica

RESTRICCIONES: Solo sugiere soluciones que pueda implementar hoy mismo con herramientas gratuitas (ChatGPT, Gemini, Google Docs). No requiero cÃ³digo ni integraciones complejas.

Formato de respuesta:
ðŸ¤– Delegable a IA: [lista lo mecÃ¡nico]
ðŸ‘¤ Requiere tu criterio: [lo que debes seguir haciendo tÃº]

PLAN DE ACCIÃ“N:
Paso 1: [instrucciÃ³n concreta]
Paso 2: [instrucciÃ³n concreta]
Paso 3: [instrucciÃ³n concreta]`,
                    icon: 'âš™ï¸'
                };
            }
        }

        // Tips avanzados de automatizaciÃ³n completa
        function getAdvancedTip(taskName) {
            const nameLower = taskName.toLowerCase();

            if (nameLower.includes('correo') || nameLower.includes('email')) {
                return 'ðŸ’¡ **Nivel Avanzado**: Automatiza completamente con Zapier o Make.com conectando Gmail + ChatGPT API + etiquetas automÃ¡ticas. Configure reglas para que emails urgentes se reenvÃ­en a tu Slack/WhatsApp y los spam se archiven sin intervenciÃ³n humana.';
            } else if (nameLower.includes('reporte') || nameLower.includes('informe')) {
                return 'ðŸ’¡ **Nivel Avanzado**: Usa Make.com para extraer datos automÃ¡ticamente de Google Sheets/SQL cada semana, procÃ©salos con ChatGPT API y envÃ­a el reporte formateado por email sin tocar nada. Ideal con webhooks programados.';
            } else if (nameLower.includes('contenido') || nameLower.includes('escribir')) {
                return 'ðŸ’¡ **Nivel Avanzado**: Crea un flujo en Zapier que tome ideas desde Google Docs, las procese con ChatGPT API, genere 3 versiones, y las suba directamente a tu CMS (WordPress, Notion, etc.) como borradores programados.';
            } else if (nameLower.includes('datos') || nameLower.includes('excel')) {
                return 'ðŸ’¡ **Nivel Avanzado**: Automatiza la entrada de datos con Make.com + OCR (para facturas escaneadas) o conecta APIs de tus sistemas internos para que los datos fluyan automÃ¡ticamente a Google Sheets sin copy-paste manual.';
            } else if (nameLower.includes('diseÃ±') || nameLower.includes('imagen')) {
                return 'ðŸ’¡ **Nivel Avanzado**: Usa la API de DALL-E 3 o Midjourney conectada con Zapier para generar imÃ¡genes automÃ¡ticamente desde prompts en Airtable/Notion, y sÃºbelas directo a tu carpeta de Google Drive o Canva.';
            } else if (nameLower.includes('reuniÃ³n') || nameLower.includes('junta')) {
                return 'ðŸ’¡ **Nivel Avanzado**: Integra Zapier con Google Calendar + ChatGPT para auto-evaluar si las reuniones son necesarias antes de confirmarlas. Crea un bot que envÃ­e agendas automÃ¡ticas 24h antes basadas en el tÃ­tulo de la reuniÃ³n.';
            } else {
                return 'ðŸ’¡ **Nivel Avanzado**: Para automatizaciÃ³n completa, explora herramientas no-code como Make.com, Zapier o n8n. Conecta tu tarea con APIs de tus sistemas (Google Workspace, Slack, Notion, etc.) para eliminar intervenciÃ³n manual por completo.';
            }
        }

        // Sugerencias de optimizaciÃ³n manual
        function getManualOptimization(taskName) {
            const nameLower = taskName.toLowerCase();

            if (nameLower.includes('reuniÃ³n') || nameLower.includes('junta')) {
                return {
                    title: 'OptimizaciÃ³n Manual Sugerida',
                    suggestions: [
                        'â° **Timeboxing**: Limita todas las reuniones a 25 minutos (no 30) para forzar concisiÃ³n',
                        'ðŸ“‹ **Regla de Agenda**: No aceptes reuniones sin agenda previa clara',
                        'ðŸŽ¯ **Batch Days**: Agrupa todas tus reuniones en 2-3 dÃ­as especÃ­ficos de la semana',
                        'âœ‹ **Reuniones de Pie**: Para juntas rÃ¡pidas (<15 min), hazlas de pie para mantener el ritmo'
                    ]
                };
            } else if (nameLower.includes('revisar') || nameLower.includes('chequear')) {
                return {
                    title: 'OptimizaciÃ³n Manual Sugerida',
                    suggestions: [
                        'â±ï¸ **Time Blocking**: Revisa todo en UN SOLO bloque diario (ej: 4pm), no constantemente',
                        'âœ… **Checklist**: Crea una lista de verificaciÃ³n de 5 puntos para acelerar tu revisiÃ³n',
                        'ðŸ”” **Desactiva notificaciones**: Revisa solo en horarios programados, no reactivamente',
                        'ðŸ“Š **MÃ©tricas clave**: EnfÃ³cate solo en 3 indicadores crÃ­ticos, ignora el resto'
                    ]
                };
            } else if (nameLower.includes('buscar') || nameLower.includes('investigar')) {
                return {
                    title: 'OptimizaciÃ³n Manual Sugerida',
                    suggestions: [
                        'â° **Limit Timer**: Pon un temporizador de 20 minutos para evitar caer en "rabbit holes"',
                        'ðŸŽ¯ **Pregunta especÃ­fica**: Define EXACTAMENTE quÃ© necesitas encontrar antes de buscar',
                        'ðŸ“ **Reutiliza investigaciÃ³n**: Guarda hallazgos en Notion/Evernote para no repetir bÃºsquedas',
                        'ðŸ¤– **IA primero**: Usa ChatGPT/Perplexity para resumir antes de leer artÃ­culos largos'
                    ]
                };
            } else if (nameLower.includes('organizar') || nameLower.includes('ordenar')) {
                return {
                    title: 'OptimizaciÃ³n Manual Sugerida',
                    suggestions: [
                        'ðŸ—‚ï¸ **Sistema de carpetas claro**: Usa mÃ¡ximo 5 carpetas principales, no mÃ¡s',
                        'ðŸ·ï¸ **Naming Convention**: Define un sistema de nombres consistente (ej: YYYY-MM-DD_proyecto_version)',
                        'ðŸ—‘ï¸ **Regla 1 aÃ±o**: Si no lo usaste en 1 aÃ±o, archÃ­valo o bÃ³rralo',
                        'âš¡ **Batch Processing**: Organiza todo de una sola vez por semana, no diariamente'
                    ]
                };
            } else if (nameLower.includes('actualizar') || nameLower.includes('copiar')) {
                return {
                    title: 'OptimizaciÃ³n Manual Sugerida',
                    suggestions: [
                        'ðŸ“‹ **Templates**: Crea plantillas reutilizables para evitar partir de cero',
                        'âŒ¨ï¸ **Atajos de teclado**: Domina Ctrl+C, Ctrl+V, y 5 atajos mÃ¡s de tu herramienta',
                        'ðŸ”„ **Estandariza formato**: Usa SIEMPRE el mismo formato para no reformatear despuÃ©s',
                        'ðŸ“… **Programa alertas**: Configura recordatorios automÃ¡ticos para no olvidar actualizaciones'
                    ]
                };
            } else {
                return {
                    title: 'OptimizaciÃ³n Manual Sugerida',
                    suggestions: [
                        'â±ï¸ **Pomodoro Technique**: Trabaja en bloques de 25 min con descansos de 5 min',
                        'ðŸ“ **Checklist estÃ¡ndar**: Crea una lista paso a paso para no improvisar cada vez',
                        'ðŸŽ¯ **Elimina distracciones**: Cierra pestaÃ±as/apps innecesarias antes de empezar',
                        'ðŸ” **Batch similares**: Agrupa tareas parecidas para hacerlas todas de una vez'
                    ]
                };
            }
        }

        // Calcular tiempo recuperable
        function calculateFreedom(tasks) {
            const automatableTasks = tasks.filter(t => t.category === 'immediate' || t.category === 'delegate');
            const totalMinutesPerWeek = automatableTasks.reduce((sum, t) => sum + t.weeklyMinutes, 0);
            const hoursPerYear = (totalMinutesPerWeek * 52) / 60;
            const daysPerYear = hoursPerYear / 8;

            return {
                hours: Math.round(hoursPerYear),
                days: Math.round(daysPerYear * 10) / 10
            };
        }

        // Manejar envÃ­o del formulario
        document.getElementById('task-form').addEventListener('submit', (e) => {
            e.preventDefault();

            const formData = new FormData(e.target);
            const tasks = [];
            const taskNames = new Set();
            let hasDuplicates = false;

            for (let i = 1; i <= 5; i++) {
                const name = formData.get(`task-${i}-name`).trim();
                const minutes = parseInt(formData.get(`task-${i}-minutes`));

                if (name && minutes) {
                    const nameLower = name.toLowerCase();

                    // Verificar duplicados
                    if (taskNames.has(nameLower)) {
                        hasDuplicates = true;
                        alert(`âš ï¸ Tarea duplicada detectada: "${name}"\n\nPor favor, ingresa 5 tareas diferentes para obtener un anÃ¡lisis mÃ¡s completo.`);
                        return;
                    }

                    taskNames.add(nameLower);
                    tasks.push({ name, minutes });
                }
            }

            if (tasks.length < 3) {
                alert('âš ï¸ Por favor, ingresa al menos 3 tareas para analizar.');
                return;
            }

            const categorizedTasks = categorizeTasks(tasks);
            displayResults(categorizedTasks);
        });

        function displayResults(tasks) {
            // Ocultar formulario y mostrar resultados
            document.getElementById('scanning-phase').classList.add('hidden');
            document.getElementById('results-phase').classList.remove('hidden');

            // Calcular libertad
            const freedom = calculateFreedom(tasks);
            document.getElementById('freedom-hours').textContent = freedom.hours;
            document.getElementById('freedom-days').textContent = `â‰ˆ ${freedom.days} dÃ­as completos`;

            // Animar contador
            animateValue('freedom-hours', 0, freedom.hours, 1500);

            // Mostrar tareas en cuadrantes
            const quadrants = {
                immediate: document.getElementById('quad-immediate'),
                delegate: document.getElementById('quad-delegate'),
                optimize: document.getElementById('quad-optimize'),
                eliminate: document.getElementById('quad-eliminate')
            };

            // Limpiar cuadrantes
            Object.values(quadrants).forEach(q => q.innerHTML = '');

            tasks.forEach(task => {
                const taskCard = document.createElement('div');
                taskCard.className = 'bg-white p-3 rounded-lg border-l-4 border-gray-400 shadow-sm';
                taskCard.innerHTML = `
                    <div class="font-semibold text-gray-900 text-sm">${task.name}</div>
                    <div class="text-xs text-gray-600 mt-1">${task.minutes} min/dÃ­a Â· ${task.weeklyMinutes} min/semana</div>
                `;
                quadrants[task.category].appendChild(taskCard);
            });

            // Verificar si hay cuadrantes vacÃ­os
            Object.entries(quadrants).forEach(([key, element]) => {
                if (element.children.length === 0) {
                    element.innerHTML = '<p class="text-gray-400 text-sm italic">Sin tareas en esta categorÃ­a</p>';
                }
            });

            // Generar soluciones
            generateSolutions(tasks.filter(t => t.category === 'immediate'));

            // Generar optimizaciones manuales
            generateManualOptimizations(tasks.filter(t => t.category === 'optimize'));
        }

        function generateManualOptimizations(optimizeTasks) {
            const section = document.getElementById('manual-optimization-section');
            if (!section) return;

            const container = document.getElementById('manual-optimization-container');

            if (optimizeTasks.length === 0) {
                section.classList.add('hidden');
                return;
            }

            section.classList.remove('hidden');
            container.innerHTML = '';

            optimizeTasks.forEach((task) => {
                const optimization = getManualOptimization(task.name);
                const optCard = document.createElement('div');
                optCard.className = 'bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-xl p-6';
                optCard.innerHTML = `
                    <div class="flex items-start mb-4">
                        <span class="text-4xl mr-4">âš¡</span>
                        <div class="flex-1">
                            <h3 class="text-lg font-bold text-gray-900 mb-1">${task.name}</h3>
                            <p class="text-sm text-gray-600">${task.minutes} min/dÃ­a Â· ${task.weeklyMinutes} min/semana</p>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-lg p-5">
                        <h4 class="font-bold text-yellow-900 mb-3 flex items-center">
                            <span class="text-xl mr-2">ðŸ’¡</span>
                            ${optimization.title}
                        </h4>
                        <ul class="space-y-3">
                            ${optimization.suggestions.map(s => `
                                <li class="text-sm text-gray-700 leading-relaxed">${s}</li>
                            `).join('')}
                        </ul>
                    </div>
                `;
                container.appendChild(optCard);
            });
        }

        function generateSolutions(immediateTasks) {
            const container = document.getElementById('solutions-container');
            container.innerHTML = '';

            if (immediateTasks.length === 0) {
                container.innerHTML = '<p class="text-gray-500 text-center py-8">No hay tareas de automatizaciÃ³n inmediata detectadas.</p>';
                return;
            }

            immediateTasks.forEach((task, index) => {
                const recommendation = getToolRecommendation(task.name);
                const advancedTip = getAdvancedTip(task.name);
                const solutionCard = document.createElement('div');
                solutionCard.className = 'bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-xl p-6';
                solutionCard.innerHTML = `
                    <div class="flex items-start mb-4">
                        <span class="text-4xl mr-4">${recommendation.icon}</span>
                        <div class="flex-1">
                            <h3 class="text-lg font-bold text-gray-900 mb-1">${task.name}</h3>
                            <p class="text-sm text-gray-600">ðŸ’Ž Ahorro potencial: ${(task.weeklyMinutes * 52 / 60).toFixed(0)} horas/aÃ±o</p>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-lg p-4 mb-4">
                        <div class="flex items-center mb-2">
                            <svg class="w-5 h-5 text-purple-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                            </svg>
                            <span class="font-semibold text-gray-900">Herramienta Recomendada (Nivel BÃ¡sico)</span>
                        </div>
                        <p class="text-purple-700 font-medium">${recommendation.tool}</p>
                    </div>
                    
                    <div class="bg-gray-900 rounded-lg p-4 mb-4">
                        <div class="flex items-center justify-between mb-3">
                            <span class="text-sm font-semibold text-gray-300">Prompt Inicial</span>
                            <button onclick="copyPrompt(this, ${index})" class="text-purple-400 hover:text-purple-300 text-xs font-medium">
                                ðŸ“‹ Copiar
                            </button>
                        </div>
                        <p class="text-sm text-gray-300 font-mono leading-relaxed" id="prompt-${index}">${recommendation.prompt}</p>
                    </div>
                    
                    <div class="bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg p-4 text-white">
                        <div class="flex items-start">
                            <span class="text-2xl mr-3">ðŸš€</span>
                            <div class="flex-1">
                                <p class="text-sm font-medium leading-relaxed">${advancedTip}</p>
                            </div>
                        </div>
                    </div>
                `;
                container.appendChild(solutionCard);
            });
        }

        function copyPrompt(button, index) {
            const promptText = document.getElementById(`prompt-${index}`).textContent;
            navigator.clipboard.writeText(promptText).then(() => {
                button.textContent = 'âœ… Copiado';
                setTimeout(() => {
                    button.textContent = 'ðŸ“‹ Copiar';
                }, 2000);
            });
        }

        function animateValue(id, start, end, duration) {
            const element = document.getElementById(id);
            const range = end - start;
            const increment = range / (duration / 16);
            let current = start;

            const timer = setInterval(() => {
                current += increment;
                if ((increment > 0 && current >= end) || (increment < 0 && current <= end)) {
                    current = end;
                    clearInterval(timer);
                }
                element.textContent = Math.round(current);
            }, 16);
        }

        function resetApp() {
            document.getElementById('scanning-phase').classList.remove('hidden');
            document.getElementById('results-phase').classList.add('hidden');
            document.getElementById('task-form').reset();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
    </script>
</body>

</html>
},
  {
    id: 2,
    category: 'marketing',
    title: "Estratega de Reels Viral",
    difficulty: "Alta",
    hoursSaved: 9,
    problem: "Quiero vender mis servicios por Instagram pero nadie ve mis videos.",
    badPrompt: "Escribe 3 ideas de videos para vender mi curso de cocina.",
    badError: "Ideas de 'venta directa' que la gente ignora. Falta gancho visual y estructura de retención (hook/body/cta).",
    agiaPrompt: "{r}Actúa como un Content Strategist experto en algoritmos de retención (TikTok/Reels).{/r} {c}Vendo un curso de cocina saludable para mamás ocupadas.{/c} {m}Genera 3 ganchos psicológicos y guiones de 15 segundos que generen deseo inmediato.{/m} {l}Evita sonar como vendedor; enfócate en resolver el dolor de 'no tengo tiempo para cocinar'.{/l} {f}Formato de tabla: Segundo, Visual, Audio y Texto en pantalla.{/f}",
    advantage: "Aumenta la tasa de reproducción en un 300% al usar gatillos de curiosidad y estructura de retención profesional.",
    preview: "**Guion 1: El secreto de los 10 minutos**\n- **0-3s:** Muestra un plato gourmet mientras un reloj corre rápido.\n- **Audio:** 'Si crees que cocinar sano toma horas, este video te va a doler...'\n- **Texto en pantalla:** 'Cena Pro en 10 min'.\n- **CTA:** 'Receta completa en mi link del perfil'."
  },
  {
    id: 3,
    category: 'finance',
    title: "Negociador de Salario",
    difficulty: "Experto",
    hoursSaved: 25,
    problem: "Quiero pedir un aumento pero me da miedo sonar exigente o que me digan que no.",
    badPrompt: "Escribe un correo para pedirle un aumento de sueldo a mi jefe porque trabajo mucho.",
    badError: "Argumento basado en sentimientos en lugar de datos. Facilita que la empresa responda con 'no hay presupuesto'.",
    agiaPrompt: "{r}Actúa como un Experto en Negociación Salarial con enfoque en ROI empresarial.{/r} {c}Llevo 2 años en la empresa, aumenté la eficiencia del equipo en un 15% y gestioné 3 proyectos críticos con éxito.{/c} {m}Redacta un guion para una reunión presencial donde solicite un ajuste del 20% basado en el valor que he generado.{/m} {l}Tono profesional, sin ultimátums y enfocado en el crecimiento mutuo.{/l} {f}Estructura: Apertura, Evidencia, Petición de Ajuste y Cierre.{/f}",
    advantage: "Transforma una 'petición' en una 'propuesta de negocio' que el jefe se sentirá tonto de rechazar.",
    preview: "**Guion de Negociación:**\n\n- **Apertura:** 'Gracias por el tiempo. Quería revisar los hitos de este año...'\n- **Evidencia:** 'Como sabes, logramos reducir los tiempos en un 15%, lo que ahorró X presupuesto...'\n- **Petición:** 'Basado en este impacto directo, busco alinear mi compensación al mercado...'"
  }
];

const NAMES = ["Andrés L.", "María P.", "Cristóbal R.", "Javiera M.", "Roberto S.", "Elena V.", "Ignacio F.", "Camila B.", "Fernando K.", "Paola T."];
const CITIES = ["Santiago", "Viña del Mar", "Concepción", "Antofagasta", "Lima", "Bogotá", "CDMX", "Madrid"];

const App = () => {
  const [selectedCase, setSelectedCase] = useState(PROMPT_CASES[0]);
  const [search, setSearch] = useState("");
  const [category, setCategory] = useState('all');
  const [copyStatus, setCopyStatus] = useState(false);
  const [showXRay, setShowXRay] = useState(true);
  const [notifications, setNotifications] = useState([]);
  const [userPrompt, setUserPrompt] = useState("");
  const [evaluation, setEvaluation] = useState(null);
  const [isEvaluating, setIsEvaluating] = useState(false);
  const [hoursAhorradas, setHoursAhorradas] = useState(0);
  const [sidebarOpen, setSidebarOpen] = useState(false);

  // --- SOCIAL PROOF ENGINE ---
  useEffect(() => {
    const interval = setInterval(() => {
      const newNotif = {
        id: Date.now(),
        name: NAMES[Math.floor(Math.random() * NAMES.length)],
        city: CITIES[Math.floor(Math.random() * CITIES.length)],
      };
      setNotifications(prev => [newNotif, ...prev].slice(0, 1));
      setTimeout(() => setNotifications([]), 6000);
    }, 14000);
    return () => clearInterval(interval);
  }, []);

  const filteredCases = useMemo(() => {
    return PROMPT_CASES.filter(c => {
      const matchesSearch = c.title.toLowerCase().includes(search.toLowerCase()) || 
                          c.problem.toLowerCase().includes(search.toLowerCase());
      const matchesCat = category === 'all' || c.category === category;
      return matchesSearch && matchesCat;
    });
  }, [search, category]);

  const handleCopy = (text) => {
    const cleanText = text.replace(/{[rcmlf]}/g, '').replace(/{\/[rcmlf]}/g, '');
    const textarea = document.createElement("textarea");
    textarea.value = cleanText;
    document.body.appendChild(textarea);
    textarea.select();
    try {
      document.execCommand('copy');
      setCopyStatus(true);
      setHoursAhorradas(prev => prev + selectedCase.hoursSaved);
      setTimeout(() => setCopyStatus(false), 2000);
    } catch (err) {
      console.error("Error al copiar");
    }
    document.body.removeChild(textarea);
  };

  const evaluateWithGemini = async () => {
    if (!userPrompt || userPrompt.length < 5) return;
    setIsEvaluating(true);
    
    const promptSystem = `Eres un experto evaluador del Modelo AGIA de Prompt Engineering.
    Analiza el prompt del usuario basándote en: {r}Rol, {c}Contexto, {m}Meta, {l}Límites, {f}Formato.
    Devuelve un JSON con:
    {
      "score": número del 0 al 100,
      "missing": ["lista de etiquetas faltantes del modelo AGIA"],
      "feedback": "explicación de por qué este prompt daría resultados mediocres",
      "improved": "versión maestra usando el modelo AGIA con etiquetas",
      "hoursSaved": número de horas estimadas que ahorraría
    }`;

    // Implementación de reintento con backoff exponencial
    const fetchWithRetry = async (retries = 5, delay = 1000) => {
      try {
        const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/${MODEL_NAME}:generateContent?key=${apiKey}`, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            contents: [{ parts: [{ text: userPrompt }] }],
            systemInstruction: { parts: [{ text: promptSystem }] },
            generationConfig: { responseMimeType: "application/json" }
          })
        });
        if (!response.ok) throw new Error("API Error");
        return await response.json();
      } catch (err) {
        if (retries > 0) {
          await new Promise(res => setTimeout(res, delay));
          return fetchWithRetry(retries - 1, delay * 2);
        }
        throw err;
      }
    };

    try {
      const data = await fetchWithRetry();
      const result = JSON.parse(data.candidates[0].content.parts[0].text);
      setEvaluation(result);
    } catch (e) {
      console.error("Error evaluando:", e);
    } finally {
      setIsEvaluating(false);
    }
  };

  const renderXRay = (text) => {
    if (!showXRay) return text.replace(/{[rcmlf]}/g, '').replace(/{\/[rcmlf]}/g, '');
    
    return text.split(/({[rcmlf]}|{\/[rcmlf]})/).map((part, i) => {
      if (part === '{r}') return <span key={i} className="bg-indigo-500/30 text-indigo-200 px-1.5 py-0.5 rounded text-[10px] font-bold mr-1 border border-indigo-400/30">ROL</span>;
      if (part === '{/r}') return "";
      if (part === '{c}') return <span key={i} className="bg-emerald-500/30 text-emerald-200 px-1.5 py-0.5 rounded text-[10px] font-bold mr-1 border border-emerald-400/30">CONTEXTO</span>;
      if (part === '{/c}') return "";
      if (part === '{m}') return <span key={i} className="bg-amber-500/30 text-amber-200 px-1.5 py-0.5 rounded text-[10px] font-bold mr-1 border border-amber-400/30">META</span>;
      if (part === '{/m}') return "";
      if (part === '{l}') return <span key={i} className="bg-rose-500/30 text-rose-200 px-1.5 py-0.5 rounded text-[10px] font-bold mr-1 border border-rose-400/30">LÍMITES</span>;
      if (part === '{/l}') return "";
      if (part === '{f}') return <span key={i} className="bg-purple-500/30 text-purple-200 px-1.5 py-0.5 rounded text-[10px] font-bold mr-1 border border-purple-400/30">FORMATO</span>;
      if (part === '{/f}') return "";
      return <span key={i} className={part.length < 5 ? "" : "text-slate-100"}>{part}</span>;
    });
  };

  return (
    <div className="min-h-screen bg-[#050810] text-slate-300 font-sans selection:bg-indigo-500/40 overflow-x-hidden">
      
      {/* Banner Urgencia */}
      <div className="bg-black text-white py-2 px-4 text-center text-xs md:text-sm font-black tracking-[0.2em] z-[60] relative flex justify-center items-center gap-4 border-b border-indigo-500/20">
        <Zap className="w-4 h-4 text-yellow-400 fill-yellow-400 animate-pulse" />
        <span>OFERTA BLACK FRIDAY: DESBLOQUEA LA BÓVEDA POR SOLO $9.990</span>
        <button className="bg-white text-black px-3 py-0.5 rounded-full hover:scale-105 transition-transform text-[10px]">PAGAR</button>
      </div>

      {/* Header Premium */}
      <header className="bg-slate-950/80 backdrop-blur-xl border-b border-white/5 sticky top-0 z-50">
        <div className="max-w-7xl mx-auto px-6 h-20 flex items-center justify-between">
          <div className="flex items-center gap-4">
            <button onClick={() => setSidebarOpen(!sidebarOpen)} className="lg:hidden p-2 text-slate-400">
              {sidebarOpen ? <X /> : <Menu />}
            </button>
            <div className="flex items-center gap-3">
              <div className="w-10 h-10 bg-gradient-to-tr from-indigo-600 to-purple-600 rounded-xl flex items-center justify-center shadow-xl shadow-indigo-500/30 ring-1 ring-white/10">
                <BrainCircuit className="text-white w-6 h-6" />
              </div>
              <div className="hidden sm:block">
                <h1 className="text-xl font-black tracking-tighter text-white">
                  AGIA <span className="text-indigo-500">VAULT</span>
                </h1>
                <p className="text-[8px] uppercase tracking-[0.3em] text-slate-500 font-bold">Maestría en Prompts</p>
              </div>
            </div>
          </div>

          <div className="flex items-center gap-4 md:gap-8">
            <div className="flex flex-col items-end">
              <span className="text-[9px] font-black text-slate-500 uppercase">ROI de Tiempo</span>
              <div className="flex items-center gap-1.5 text-white font-black">
                <Clock className="w-3.5 h-3.5 text-emerald-400" />
                <span className="text-base md:text-lg">{hoursAhorradas.toFixed(1)}h</span>
              </div>
            </div>
            <button className="bg-white text-black px-4 md:px-6 py-2 rounded-xl text-xs font-black hover:bg-slate-200 transition-all flex items-center gap-2">
              <Lock className="w-3.5 h-3.5" />
              <span className="hidden sm:inline">ACCESO PRO</span>
            </button>
          </div>
        </div>
      </header>

      <main className="max-w-7xl mx-auto px-6 py-8 grid grid-cols-1 lg:grid-cols-12 gap-8 relative">
        
        {/* Sidebar Móvil y Desktop */}
        <aside className={`lg:col-span-4 flex flex-col gap-8 lg:block ${sidebarOpen ? 'fixed inset-0 top-[120px] bg-[#050810] z-40 p-6 overflow-y-auto' : 'hidden lg:flex'}`}>
          
          <div className="bg-[#0b101b] rounded-[2rem] border border-white/5 p-6 shadow-2xl">
            <h3 className="text-[10px] font-black text-slate-500 uppercase tracking-widest mb-4">Explorador de Casos</h3>
            
            <div className="relative mb-5">
              <Search className="absolute left-4 top-3 text-slate-500 w-3.5 h-3.5" />
              <input 
                type="text" 
                placeholder="Buscar solución..." 
                className="w-full bg-black/40 border border-white/10 rounded-xl py-2.5 pl-10 pr-4 text-xs focus:ring-1 focus:ring-indigo-500/50 outline-none transition-all placeholder:text-slate-700"
                value={search}
                onChange={(e) => setSearch(e.target.value)}
              />
            </div>

            <div className="flex gap-2 overflow-x-auto pb-4 no-scrollbar">
              <button onClick={() => setCategory('all')} className={`flex-none px-3 py-1.5 rounded-lg text-[10px] font-bold border ${category === 'all' ? 'bg-indigo-600 border-indigo-500 text-white' : 'bg-white/5 border-white/10 text-slate-500'}`}>Todos</button>
              {Object.keys(CATEGORIES).map(k => (
                <button key={k} onClick={() => setCategory(k)} className={`flex-none px-3 py-1.5 rounded-lg text-[10px] font-bold border ${category === k ? 'bg-indigo-600 border-indigo-500 text-white' : 'bg-white/5 border-white/10 text-slate-500'}`}>{CATEGORIES[k].label}</button>
              ))}
            </div>

            <div className="space-y-2.5 mt-2 max-h-[400px] overflow-y-auto pr-1 custom-scrollbar">
              {filteredCases.map(c => (
                <button 
                  key={c.id} 
                  onClick={() => { setSelectedCase(c); setSidebarOpen(false); }}
                  className={`w-full p-4 rounded-2xl border transition-all text-left group ${selectedCase.id === c.id ? 'bg-indigo-600/10 border-indigo-500/50' : 'bg-transparent border-white/5 hover:bg-white/5'}`}
                >
                  <div className="flex justify-between items-start mb-1.5">
                    <span className={`text-[8px] font-black uppercase px-2 py-0.5 rounded-full bg-${CATEGORIES[c.category].color}-500/10 text-${CATEGORIES[c.category].color}-400 border border-${CATEGORIES[c.category].color}-500/20`}>{CATEGORIES[c.category].label}</span>
                    <span className="text-[9px] text-slate-600 font-bold">+{c.hoursSaved}h ROI</span>
                  </div>
                  <h4 className="text-xs font-bold text-slate-100 group-hover:text-indigo-400 transition-colors">{c.title}</h4>
                </button>
              ))}
            </div>
          </div>

          <div className="bg-gradient-to-br from-indigo-950/40 to-slate-900 rounded-[2rem] border border-indigo-500/20 p-6 mt-8 relative overflow-hidden group">
            <div className="absolute -top-6 -right-6 w-20 h-20 bg-indigo-500/10 rounded-full blur-2xl" />
            <h2 className="text-lg font-black text-white mb-1 flex items-center gap-2">
              <Sparkles className="w-5 h-5 text-yellow-400" /> EVALUADOR AGIA
            </h2>
            <p className="text-[10px] text-indigo-300/70 mb-4 font-medium leading-relaxed">Pega tu prompt y descubre por qué tus resultados son básicos.</p>
            
            <textarea 
              className="w-full bg-black/60 border border-white/10 rounded-xl p-3 text-xs text-slate-200 placeholder:text-slate-700 outline-none focus:ring-1 focus:ring-indigo-500 min-h-[120px] mb-3 transition-all"
              placeholder="Ej: Dame ideas de nombres para mi empresa..."
              value={userPrompt}
              onChange={(e) => setUserPrompt(e.target.value)}
            />
            
            <button 
              onClick={evaluateWithGemini}
              disabled={isEvaluating || userPrompt.length < 5}
              className="w-full bg-indigo-600 disabled:opacity-40 text-white py-3 rounded-xl font-black text-xs hover:bg-indigo-500 transition-all flex items-center justify-center gap-2 shadow-xl"
            >
              {isEvaluating ? <div className="w-4 h-4 border-2 border-white/20 border-t-white rounded-full animate-spin" /> : <><Zap className="w-3.5 h-3.5 fill-white" /> ANALIZAR PROMPT</>}
            </button>

            {evaluation && (
              <div className="mt-6 bg-black/40 rounded-2xl p-5 border border-white/5 animate-in fade-in duration-500">
                <div className="flex items-center justify-between mb-2">
                  <span className="text-[9px] font-black text-slate-500 uppercase tracking-widest">Puntaje Maestro</span>
                  <span className={`text-lg font-black ${evaluation.score > 70 ? 'text-emerald-400' : 'text-amber-400'}`}>{evaluation.score}%</span>
                </div>
                <div className="w-full bg-slate-900 h-2 rounded-full mb-4 overflow-hidden">
                  <div className="bg-indigo-500 h-full transition-all duration-1000" style={{ width: `${evaluation.score}%` }} />
                </div>
                {evaluation.missing?.length > 0 && (
                  <div className="mb-4">
                    <p className="text-[9px] font-black text-rose-400 uppercase mb-1.5 tracking-tighter">Faltan Elementos:</p>
                    <div className="flex flex-wrap gap-1">
                      {evaluation.missing.map(m => <span key={m} className="text-[8px] bg-rose-500/10 text-rose-400 px-1.5 py-0.5 rounded border border-rose-500/20">{m}</span>)}
                    </div>
                  </div>
                )}
                <p className="text-[10px] text-slate-400 italic mb-4 bg-white/5 p-3 rounded-lg leading-relaxed">"{evaluation.feedback}"</p>
                <button 
                  onClick={() => {
                    setSelectedCase({ ...selectedCase, title: "Optimizado por IA", agiaPrompt: evaluation.improved, problem: "Resultado de tu evaluación personalizada.", preview: "Usa este prompt mejorado para ver la diferencia nivel pro.", hoursSaved: evaluation.hoursSaved || 2 });
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                  }}
                  className="w-full py-2 bg-white hover:bg-slate-200 text-black rounded-lg text-[9px] font-black transition-all uppercase tracking-widest"
                >
                  USAR VERSIÓN PRO
                </button>
              </div>
            )}
          </div>
        </aside>

        {/* COLUMNA DERECHA: EL VERSUS */}
        <div className="lg:col-span-8 space-y-8">
          
          <div className="flex flex-col md:flex-row items-start md:items-center justify-between gap-6 bg-[#0b101b] p-8 rounded-[2.5rem] border border-white/5 shadow-2xl">
            <div className="space-y-2">
              <div className="flex items-center gap-3">
                 <div className="p-2.5 rounded-xl bg-indigo-500/10 text-indigo-400 border border-indigo-500/20 shadow-inner">
                   <Award className="w-6 h-6" />
                 </div>
                 <h2 className="text-3xl font-black text-white tracking-tighter leading-tight">{selectedCase.title}</h2>
              </div>
              <p className="text-slate-400 text-sm font-medium leading-relaxed">{selectedCase.problem}</p>
            </div>
            
            <div className="flex flex-col items-end gap-2">
               <div className="flex items-center gap-3 bg-black/40 px-4 py-2 rounded-2xl border border-white/5">
                 <span className="text-[9px] font-black text-slate-500 uppercase tracking-widest">Rayos X</span>
                 <button onClick={() => setShowXRay(!showXRay)} className={`w-11 h-6 rounded-full p-1 transition-all shadow-lg ${showXRay ? 'bg-indigo-600 shadow-indigo-500/50' : 'bg-slate-800'}`}>
                   <div className={`w-4 h-4 bg-white rounded-full transition-transform transform ${showXRay ? 'translate-x-5' : 'translate-x-0'}`} />
                 </button>
               </div>
               <div className="flex items-center gap-2 text-[10px] font-black text-emerald-400 uppercase tracking-wider bg-emerald-500/5 px-3 py-1 rounded-full border border-emerald-500/10">
                 <TrendingUp className="w-3 h-3" /> Dificultad: {selectedCase.difficulty}
               </div>
            </div>
          </div>

          <div className="grid grid-cols-1 md:grid-cols-2 gap-8 relative">
            <div className="bg-[#0b101b] rounded-[2.5rem] border border-white/5 p-8 flex flex-col h-full relative group hover:border-rose-500/20 transition-all duration-500">
              <div className="absolute top-8 right-8 text-rose-500/5"><AlertTriangle className="w-20 h-20" /></div>
              <div className="flex items-center gap-3 mb-6">
                <div className="w-9 h-9 rounded-xl bg-rose-500/10 flex items-center justify-center border border-rose-500/20"><Users className="w-4 h-4 text-rose-500" /></div>
                <div>
                  <h4 className="text-[9px] font-black uppercase tracking-[0.2em] text-slate-600">Prompt Amateur</h4>
                  <p className="text-xs font-bold text-slate-300">Lo que escribe el 95%</p>
                </div>
              </div>
              <div className="bg-black/60 rounded-[1.5rem] p-6 border border-white/5 text-sm italic text-slate-500 font-mono mb-8 flex-1 leading-relaxed">"{selectedCase.badPrompt}"</div>
              <div className="bg-rose-500/5 rounded-xl p-4 border border-rose-500/10 flex gap-3">
                <AlertTriangle className="w-5 h-5 text-rose-500 flex-none" />
                <p className="text-[10px] text-slate-400 font-medium leading-relaxed"><span className="text-rose-400 font-black uppercase text-[9px] block mb-0.5">Falla Crítica:</span> {selectedCase.badError}</p>
              </div>
            </div>

            <div className="bg-[#121a2e] rounded-[2.5rem] border border-indigo-500/30 p-1 flex flex-col h-full shadow-2xl transform md:scale-[1.03] z-10 transition-all duration-700">
              <div className="bg-[#080c14] rounded-[2.3rem] p-8 h-full flex flex-col relative overflow-hidden">
                <div className="absolute -top-32 -right-32 w-80 h-80 bg-indigo-600/10 rounded-full blur-[100px]" />
                <div className="flex items-center justify-between mb-8 relative z-10">
                  <div className="flex items-center gap-3">
                    <div className="w-11 h-11 rounded-xl bg-indigo-600 flex items-center justify-center shadow-indigo-600/50"><Zap className="w-5 h-5 text-white fill-white" /></div>
                    <div>
                      <h4 className="text-[9px] font-black uppercase tracking-[0.2em] text-indigo-400">Modelo AGIA</h4>
                      <p className="text-sm font-bold text-white">Ingeniería Maestra</p>
                    </div>
                  </div>
                  <div className="flex items-center gap-1 bg-emerald-500/10 px-3 py-1 rounded-full text-[9px] font-black text-emerald-400 border border-emerald-500/20"><ShieldCheck className="w-3.5 h-3.5" /> VALIDADO</div>
                </div>
                <div className="bg-white/5 rounded-[1.5rem] p-6 border border-white/5 text-sm md:text-base font-medium leading-[1.7] mb-8 flex-1 relative z-10 font-mono text-slate-400">{renderXRay(selectedCase.agiaPrompt)}</div>
                <div className="space-y-6 relative z-10">
                   <div className="bg-emerald-500/5 rounded-xl p-4 border border-emerald-500/10 flex gap-3">
                      <CheckCircle className="w-5 h-5 text-emerald-500 flex-none" />
                      <p className="text-[10px] text-slate-300 leading-relaxed"><span className="text-emerald-400 font-black uppercase text-[9px] block mb-0.5">Ventaja de Valor:</span> {selectedCase.advantage}</p>
                   </div>
                  <button onClick={() => handleCopy(selectedCase.agiaPrompt)} className={`w-full py-4 rounded-[1.2rem] font-black text-sm flex items-center justify-center gap-3 transition-all transform active:scale-95 ${copyStatus ? 'bg-emerald-600 text-white shadow-emerald-500/40' : 'bg-indigo-600 text-white hover:bg-indigo-500 shadow-indigo-600/40'}`}>
                    {copyStatus ? <><CheckCircle className="w-5 h-5" /> ¡PROMPT COPIADO!</> : <><Copy className="w-5 h-5" /> COPIAR PROMPT MAESTRO</>}
                  </button>
                </div>
              </div>
            </div>

            <div className="hidden md:flex absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-14 h-14 bg-[#050810] border-4 border-[#0b101b] rounded-full items-center justify-center z-20 shadow-2xl">
              <span className="text-sm font-black text-indigo-500 italic">VS</span>
            </div>
          </div>

          <div className="bg-[#0b101b] rounded-[2.5rem] border border-white/5 p-10 shadow-2xl">
            <h3 className="text-lg font-black text-white mb-6 flex items-center gap-3">
              <Eye className="w-6 h-6 text-indigo-400" /> Resultado Esperado en ChatGPT
            </h3>
            <div className="prose prose-invert max-w-none text-slate-400 text-sm md:text-base leading-relaxed bg-black/40 rounded-[1.5rem] p-8 border border-white/5 whitespace-pre-wrap font-sans shadow-inner">
              {selectedCase.preview}
            </div>
          </div>

        </div>
      </main>

      {/* Social Proof Dinámico */}
      <div className="fixed bottom-10 left-10 z-50 pointer-events-none">
        {notifications.map(n => (
          <div key={n.id} className="bg-white text-slate-950 px-5 py-4 rounded-[1.5rem] shadow-2xl border border-slate-200 flex items-center gap-4 animate-in slide-in-from-left-20 duration-700 pointer-events-auto max-w-sm">
            <div className="w-10 h-10 bg-indigo-600 rounded-xl flex items-center justify-center text-white shadow-lg"><Users className="w-5 h-5" /></div>
            <div>
              <p className="text-xs font-black leading-tight tracking-tight">{n.name} de {n.city}</p>
              <p className="text-[10px] text-slate-500 font-bold uppercase tracking-wider mt-0.5">Accedió a la Bóveda Maestra</p>
              <div className="flex items-center gap-1.5 mt-1.5"><div className="w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse" /><p className="text-[8px] text-emerald-600 font-black uppercase tracking-widest">Compra Verificada</p></div>
            </div>
          </div>
        ))}
      </div>

      <footer className="mt-20 border-t border-white/5 py-16 px-6 bg-black/40">
        <div className="max-w-7xl mx-auto flex flex-col items-center text-center">
          <div className="flex items-center gap-3 mb-6">
             <div className="w-10 h-10 bg-indigo-600 rounded-xl flex items-center justify-center text-white font-black text-lg shadow-2xl">AG</div>
             <span className="font-black text-white text-xl tracking-tighter">AULA GENIA <span className="text-slate-700">© 2024</span></span>
          </div>
          <p className="text-[10px] text-slate-500 max-w-lg leading-relaxed font-bold uppercase tracking-widest opacity-60">
            Formación técnica para no-técnicos. La Bóveda AGIA es propiedad intelectual registrada.
          </p>
        </div>
      </footer>

      <style>{`
        .custom-scrollbar::-webkit-scrollbar { width: 4px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #1e293b; border-radius: 20px; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
      `}</style>
    </div>
  );
};

export default App;
